<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crystalline - Truth Network</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0e17;
            --bg-secondary: #141922;
            --bg-card: #1a1f2e;
            --accent-cyan: #00d9ff;
            --accent-purple: #a855f7;
            --accent-green: #10b981;
            --accent-red: #ef4444;
            --accent-amber: #f59e0b;
            --accent-blue: #3b82f6;
            --accent-pink: #ec4899;
            --text-primary: #e2e8f0;
            --text-secondary: #94a3b8;
            --border: rgba(255, 255, 255, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'IBM Plex Mono', monospace;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* Animated Background with Prism Effect */
        .bg-pattern {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.03;
            pointer-events: none;
            background-image: 
                repeating-linear-gradient(0deg, transparent, transparent 2px, var(--accent-cyan) 2px, var(--accent-cyan) 4px),
                repeating-linear-gradient(90deg, transparent, transparent 2px, var(--accent-cyan) 2px, var(--accent-cyan) 4px);
            background-size: 50px 50px;
            animation: scroll-bg 20s linear infinite;
        }

        @keyframes scroll-bg {
            0% { transform: translate(0, 0); }
            100% { transform: translate(50px, 50px); }
        }

        /* Rainbow Prism Overlay */
        .prism-overlay {
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, 
                rgba(0, 217, 255, 0.03) 0%,
                rgba(168, 85, 247, 0.02) 25%,
                rgba(236, 72, 153, 0.02) 50%,
                transparent 75%);
            pointer-events: none;
            animation: prism-rotate 30s linear infinite;
            z-index: 0;
        }

        @keyframes prism-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 14, 23, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border);
            padding: 1rem 2rem;
            z-index: 100;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .logo {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.5rem;
            font-weight: 900;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-transform: uppercase;
            letter-spacing: 2px;
            cursor: pointer;
            position: relative;
        }

        .logo::before {
            content: '‚óà';
            margin-right: 0.5rem;
            animation: logo-pulse 2s ease-in-out infinite;
        }

        @keyframes logo-pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .header-actions {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .user-avatar:hover {
            border-color: var(--accent-cyan);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.5);
        }

        /* Filter Bar */
        .filter-bar {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .filter-bar::-webkit-scrollbar {
            height: 4px;
        }

        .filter-bar::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        .filter-bar::-webkit-scrollbar-thumb {
            background: var(--accent-cyan);
            border-radius: 2px;
        }

        .filter-btn {
            padding: 0.5rem 1rem;
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            color: var(--text-secondary);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.3s;
            white-space: nowrap;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .filter-btn:hover {
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
            background: rgba(0, 217, 255, 0.1);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border-color: transparent;
            color: white;
            box-shadow: 0 4px 15px rgba(0, 217, 255, 0.3);
        }

        .btn {
            padding: 0.6rem 1.2rem;
            border: none;
            border-radius: 8px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            color: white;
            box-shadow: 0 4px 20px rgba(0, 217, 255, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 30px rgba(0, 217, 255, 0.5);
        }

        .btn-secondary {
            background: var(--bg-card);
            color: var(--text-primary);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--accent-cyan);
            background: rgba(0, 217, 255, 0.1);
        }

        .container {
            max-width: 600px;
            margin: 140px auto 0;
            padding: 0 1rem 2rem;
            position: relative;
            z-index: 1;
        }

        .feed {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* ENHANCED 3D CRYSTAL POST STRUCTURE */
        .post {
            background: var(--bg-card);
            border-radius: 20px;
            overflow: hidden;
            position: relative;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        /* Category-Specific Crystal Shapes */
        .post[data-category="government"] {
            clip-path: polygon(10% 0%, 90% 0%, 100% 10%, 100% 90%, 90% 100%, 10% 100%, 0% 90%, 0% 10%);
        }

        .post[data-category="technology"] {
            clip-path: polygon(0% 15%, 15% 0%, 85% 0%, 100% 15%, 100% 85%, 85% 100%, 15% 100%, 0% 85%);
        }

        .post[data-category="health"],
        .post[data-category="finance"],
        .post[data-category="history"],
        .post[data-category="media"] {
            clip-path: polygon(5% 0%, 95% 0%, 100% 5%, 100% 95%, 95% 100%, 5% 100%, 0% 95%, 0% 5%);
        }

        /* Crystal Border with 3D depth */
        .crystal-border {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            z-index: 1;
        }

        /* HIGH VERIFICATION - Brilliant 3D Glowing Crystal with Rainbow Prism */
        .post[data-authenticity="high"] {
            box-shadow: 
                0 10px 40px rgba(0, 217, 255, 0.4),
                0 5px 20px rgba(0, 217, 255, 0.3),
                inset 0 2px 0 rgba(255, 255, 255, 0.15),
                inset 0 -2px 0 rgba(0, 217, 255, 0.25);
        }

        .post[data-authenticity="high"] .crystal-border {
            border: 4px solid var(--accent-cyan);
            box-shadow: 
                0 0 50px rgba(0, 217, 255, 0.8),
                inset 0 0 50px rgba(0, 217, 255, 0.25),
                inset 6px 6px 30px rgba(0, 217, 255, 0.15),
                inset -6px -6px 30px rgba(0, 217, 255, 0.15);
            animation: crystal-pulse 3s ease-in-out infinite;
        }

        /* Rainbow Prism Effect for Highest Verification */
        .post[data-authenticity="high"][data-score="98"]::before,
        .post[data-authenticity="high"][data-score="97"]::before,
        .post[data-authenticity="high"][data-score="94"]::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(
                45deg,
                var(--accent-cyan),
                var(--accent-purple),
                var(--accent-pink),
                var(--accent-cyan)
            );
            background-size: 300% 300%;
            animation: rainbow-flow 8s ease infinite;
            opacity: 0.3;
            filter: blur(10px);
            z-index: 0;
        }

        @keyframes rainbow-flow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        /* 3D Highlight edges */
        .post[data-authenticity="high"]::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.2) 0%,
                transparent 25%,
                transparent 75%,
                rgba(0, 217, 255, 0.15) 100%
            );
            pointer-events: none;
            z-index: 3;
        }

        @keyframes crystal-pulse {
            0%, 100% { 
                box-shadow: 
                    0 0 50px rgba(0, 217, 255, 0.8),
                    inset 0 0 50px rgba(0, 217, 255, 0.25),
                    inset 6px 6px 30px rgba(0, 217, 255, 0.15),
                    inset -6px -6px 30px rgba(0, 217, 255, 0.15);
            }
            50% { 
                box-shadow: 
                    0 0 70px rgba(0, 217, 255, 1),
                    inset 0 0 60px rgba(0, 217, 255, 0.35),
                    inset 8px 8px 40px rgba(0, 217, 255, 0.2),
                    inset -8px -8px 40px rgba(0, 217, 255, 0.2);
            }
        }

        /* MEDIUM VERIFICATION - 3D depth */
        .post[data-authenticity="medium"] {
            box-shadow: 
                0 8px 30px rgba(245, 158, 11, 0.25),
                0 4px 15px rgba(245, 158, 11, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
        }

        .post[data-authenticity="medium"] .crystal-border {
            border: 3px solid var(--accent-amber);
            box-shadow: 
                0 0 40px rgba(245, 158, 11, 0.6),
                inset 0 0 40px rgba(245, 158, 11, 0.2),
                inset 4px 4px 20px rgba(245, 158, 11, 0.1);
        }

        .post[data-authenticity="medium"]::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.12) 0%,
                transparent 35%,
                transparent 65%,
                rgba(245, 158, 11, 0.1) 100%
            );
            pointer-events: none;
            z-index: 3;
        }

        /* LOW/DEBUNKED - Dramatically Shattered 3D Crystal */
        .post[data-authenticity="low"] {
            opacity: 0.65;
            box-shadow: 
                0 5px 20px rgba(239, 68, 68, 0.35),
                inset 0 3px 10px rgba(0, 0, 0, 0.5);
            filter: grayscale(0.3);
        }

        .post[data-authenticity="low"] .crystal-border {
            border: 3px solid var(--accent-red);
            box-shadow: 
                0 0 25px rgba(239, 68, 68, 0.6),
                inset 0 0 25px rgba(0, 0, 0, 0.4);
        }

        /* DRAMATIC Glass Shard Shatter Effect */
        .post[data-authenticity="low"]::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                /* Main cracks */
                linear-gradient(42deg, transparent 47%, rgba(239, 68, 68, 0.8) 48%, rgba(239, 68, 68, 0.8) 52%, transparent 53%),
                linear-gradient(-48deg, transparent 47%, rgba(239, 68, 68, 0.8) 48%, rgba(239, 68, 68, 0.8) 52%, transparent 53%),
                /* Secondary cracks */
                linear-gradient(18deg, transparent 48%, rgba(0, 0, 0, 0.4) 49%, rgba(0, 0, 0, 0.4) 51%, transparent 52%),
                linear-gradient(-72deg, transparent 48%, rgba(0, 0, 0, 0.4) 49%, rgba(0, 0, 0, 0.4) 51%, transparent 52%),
                linear-gradient(65deg, transparent 49%, rgba(239, 68, 68, 0.5) 49.5%, rgba(239, 68, 68, 0.5) 50.5%, transparent 51%),
                /* Shatter points */
                radial-gradient(circle at 30% 40%, rgba(0, 0, 0, 0.6) 0%, transparent 3%),
                radial-gradient(circle at 70% 60%, rgba(0, 0, 0, 0.6) 0%, transparent 4%),
                radial-gradient(circle at 50% 30%, rgba(0, 0, 0, 0.5) 0%, transparent 2.5%);
            pointer-events: none;
            z-index: 2;
        }

        /* Dark overlay for shattered posts */
        .post[data-authenticity="low"]::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(
                135deg,
                rgba(0, 0, 0, 0.3) 0%,
                rgba(239, 68, 68, 0.1) 50%,
                rgba(0, 0, 0, 0.2) 100%
            );
            pointer-events: none;
            z-index: 3;
        }

        /* ENHANCED Sparkles - Bigger and More Dramatic */
        .sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 4;
            opacity: 0;
            box-shadow: 
                0 0 15px rgba(255, 255, 255, 1),
                0 0 25px rgba(0, 217, 255, 0.8);
        }

        .post[data-authenticity="high"] .sparkle {
            animation: sparkle-animation 2.5s ease-in-out infinite;
        }

        @keyframes sparkle-animation {
            0%, 100% { 
                opacity: 0; 
                transform: scale(0) rotate(0deg); 
            }
            50% { 
                opacity: 1; 
                transform: scale(2) rotate(180deg); 
            }
        }

        .sparkle:nth-child(1) { top: 12%; left: 8%; animation-delay: 0s; }
        .sparkle:nth-child(2) { top: 30%; right: 10%; animation-delay: 0.8s; }
        .sparkle:nth-child(3) { bottom: 20%; left: 15%; animation-delay: 1.6s; }
        .sparkle:nth-child(4) { top: 50%; right: 18%; animation-delay: 2.4s; }
        .sparkle:nth-child(5) { top: 70%; left: 25%; animation-delay: 0.4s; }
        .sparkle:nth-child(6) { bottom: 40%; right: 8%; animation-delay: 1.2s; }

        /* Crystal Facets - Enhanced 3D Geometric Patterns */
        .crystal-facets {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.06;
            pointer-events: none;
            background: 
                linear-gradient(30deg, transparent 32%, currentColor 32%, currentColor 36%, transparent 36%),
                linear-gradient(150deg, transparent 32%, currentColor 32%, currentColor 36%, transparent 36%),
                linear-gradient(-30deg, transparent 58%, currentColor 58%, currentColor 62%, transparent 62%),
                linear-gradient(-150deg, transparent 58%, currentColor 58%, currentColor 62%, transparent 62%),
                radial-gradient(circle at 20% 20%, currentColor 2px, transparent 2px),
                radial-gradient(circle at 80% 80%, currentColor 2px, transparent 2px),
                radial-gradient(circle at 50% 50%, currentColor 1px, transparent 1px);
            background-size: 150px 150px, 150px 150px, 150px 150px, 150px 150px, 60px 60px, 60px 60px, 40px 40px;
            background-position: 0 0, 0 0, 0 0, 0 0, 0 0, 30px 30px, 20px 20px;
            z-index: 0;
        }

        .post[data-authenticity="high"] .crystal-facets {
            opacity: 0.15;
            color: var(--accent-cyan);
            animation: facet-shimmer 10s ease-in-out infinite;
        }

        .post[data-authenticity="medium"] .crystal-facets {
            opacity: 0.1;
            color: var(--accent-amber);
        }

        .post[data-authenticity="low"] .crystal-facets {
            opacity: 0.06;
            color: var(--accent-red);
        }

        @keyframes facet-shimmer {
            0%, 100% { 
                opacity: 0.15;
                transform: translateZ(0) scale(1);
            }
            50% { 
                opacity: 0.22;
                transform: translateZ(3px) scale(1.02);
            }
        }

        /* Enhanced 3D Hover Effect */
        .post:hover {
            transform: translateY(-10px) rotateX(3deg) scale(1.01);
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.5);
        }

        .post[data-authenticity="high"]:hover {
            box-shadow: 
                0 30px 80px rgba(0, 217, 255, 0.6),
                0 15px 50px rgba(0, 217, 255, 0.4),
                inset 0 3px 0 rgba(255, 255, 255, 0.25);
        }

        .post-header {
            padding: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: start;
            border-bottom: 1px solid var(--border);
            position: relative;
            z-index: 5;
        }

        .post-author {
            display: flex;
            gap: 0.8rem;
            align-items: center;
            cursor: pointer;
        }

        .post-author:hover .author-name {
            color: var(--accent-cyan);
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1rem;
            border: 2px solid transparent;
            transition: all 0.3s;
        }

        .post-author:hover .avatar {
            border-color: var(--accent-cyan);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.5);
        }

        .author-info {
            display: flex;
            flex-direction: column;
        }

        .author-name {
            font-weight: 500;
            color: var(--text-primary);
            transition: color 0.3s;
        }

        .author-stats {
            font-size: 0.7rem;
            color: var(--text-secondary);
            display: flex;
            gap: 0.8rem;
        }

        .stat {
            display: flex;
            align-items: center;
            gap: 0.2rem;
        }

        .post-time {
            font-size: 0.75rem;
            color: var(--text-secondary);
        }

        /* Category Crystal Tags - Different Shapes */
        .category-crystal {
            padding: 0.6rem 1.2rem;
            border-radius: 8px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .category-crystal::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.6s;
        }

        .post:hover .category-crystal::before {
            left: 100%;
        }

        .category-government {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(59, 130, 246, 0.15));
            color: var(--accent-blue);
            border: 2px solid var(--accent-blue);
            clip-path: polygon(15% 0%, 85% 0%, 100% 50%, 85% 100%, 15% 100%, 0% 50%);
        }

        .category-health {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(16, 185, 129, 0.15));
            color: var(--accent-green);
            border: 2px solid var(--accent-green);
            border-radius: 50%;
        }

        .category-technology {
            background: linear-gradient(135deg, rgba(0, 217, 255, 0.3), rgba(0, 217, 255, 0.15));
            color: var(--accent-cyan);
            border: 2px solid var(--accent-cyan);
            clip-path: polygon(20% 0%, 80% 0%, 100% 20%, 100% 80%, 80% 100%, 20% 100%, 0% 80%, 0% 20%);
        }

        .category-history {
            background: linear-gradient(135deg, rgba(168, 85, 247, 0.3), rgba(168, 85, 247, 0.15));
            color: var(--accent-purple);
            border: 2px solid var(--accent-purple);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
        }

        .category-finance {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.3), rgba(245, 158, 11, 0.15));
            color: var(--accent-amber);
            border: 2px solid var(--accent-amber);
            clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);
        }

        .category-media {
            background: linear-gradient(135deg, rgba(236, 72, 153, 0.3), rgba(236, 72, 153, 0.15));
            color: var(--accent-pink);
            border: 2px solid var(--accent-pink);
            clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
        }

        .post-content {
            padding: 1.5rem;
            position: relative;
            z-index: 5;
        }

        .post-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.3rem;
            font-weight: 700;
            margin: 1rem 0;
            line-height: 1.3;
        }

        .post-text {
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        /* Video Player */
        .video-container {
            margin-top: 1rem;
            border-radius: 12px;
            overflow: hidden;
            position: relative;
            background: #000;
        }

        .video-placeholder {
            width: 100%;
            aspect-ratio: 16/9;
            background: linear-gradient(135deg, #1a1f2e 0%, #0a0e17 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: var(--text-secondary);
            font-size: 0.9rem;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.3s;
        }

        .video-placeholder:hover {
            background: linear-gradient(135deg, #242936 0%, #141922 100%);
        }

        .play-icon {
            font-size: 3rem;
            color: var(--accent-cyan);
            transition: all 0.3s;
        }

        .video-placeholder:hover .play-icon {
            transform: scale(1.2);
            color: var(--accent-purple);
        }

        /* Authenticity Display with Shimmer */
        .authenticity-display {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            background: var(--bg-secondary);
            border-top: 1px solid var(--border);
            position: relative;
            z-index: 5;
        }

        .authenticity-meter {
            flex: 1;
            height: 12px;
            background: rgba(255,255,255,0.08);
            border-radius: 6px;
            overflow: hidden;
            position: relative;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .authenticity-fill {
            height: 100%;
            border-radius: 6px;
            transition: width 0.5s ease;
            position: relative;
        }

        .authenticity-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .authenticity-fill.high {
            background: linear-gradient(90deg, var(--accent-cyan), var(--accent-green), var(--accent-cyan));
            background-size: 200% 100%;
            animation: gradient-slide 3s ease infinite;
        }

        .authenticity-fill.medium {
            background: linear-gradient(90deg, var(--accent-amber), var(--accent-cyan));
        }

        .authenticity-fill.low {
            background: linear-gradient(90deg, var(--accent-red), rgba(239, 68, 68, 0.5));
        }

        @keyframes gradient-slide {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .authenticity-label {
            font-size: 0.85rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .authenticity-score {
            font-size: 1.2rem;
            font-weight: 700;
        }

        .authenticity-label.high .authenticity-score {
            color: var(--accent-cyan);
            text-shadow: 0 0 10px rgba(0, 217, 255, 0.5);
        }

        .authenticity-label.medium .authenticity-score {
            color: var(--accent-amber);
        }

        .authenticity-label.low .authenticity-score {
            color: var(--accent-red);
        }

        /* Post Actions with Particle Effects */
        .post-actions {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 5;
        }

        .voting {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .vote-group {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--bg-secondary);
            padding: 0.6rem 1.2rem;
            border-radius: 30px;
            border: 1px solid var(--border);
            position: relative;
        }

        .vote-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            font-size: 1.3rem;
            transition: all 0.2s;
            padding: 0.2rem;
            position: relative;
        }

        .vote-btn:hover {
            transform: scale(1.3);
        }

        .vote-btn.upvote:hover {
            color: var(--accent-green);
        }

        .vote-btn.downvote:hover {
            color: var(--accent-red);
        }

        /* Vote Particles */
        .vote-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            pointer-events: none;
            animation: particle-burst 0.6s ease-out forwards;
        }

        @keyframes particle-burst {
            0% {
                transform: translate(0, 0) scale(1);
                opacity: 1;
            }
            100% {
                transform: translate(var(--tx), var(--ty)) scale(0);
                opacity: 0;
            }
        }

        .vote-count {
            font-weight: 600;
            min-width: 40px;
            text-align: center;
            transition: all 0.2s;
            font-size: 1.1rem;
        }

        .action-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            font-size: 1.2rem;
            transition: all 0.2s;
        }

        .action-btn:hover {
            color: var(--accent-cyan);
            transform: scale(1.2);
        }

        /* Create Post Button with Pulse */
        .create-post-btn {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            border: none;
            font-size: 2.5rem;
            color: white;
            cursor: pointer;
            box-shadow: 0 10px 40px rgba(0, 217, 255, 0.5);
            transition: all 0.3s ease;
            z-index: 50;
            animation: pulse-ring 2s ease-out infinite;
        }

        @keyframes pulse-ring {
            0% {
                box-shadow: 0 0 0 0 rgba(0, 217, 255, 0.7);
            }
            70% {
                box-shadow: 0 0 0 20px rgba(0, 217, 255, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(0, 217, 255, 0);
            }
        }

        .create-post-btn:hover {
            transform: scale(1.15) rotate(90deg);
            box-shadow: 0 15px 60px rgba(0, 217, 255, 0.7);
        }

        /* Modal with Fade Animation */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
            z-index: 200;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            animation: modal-fade-in 0.3s ease;
        }

        @keyframes modal-fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--bg-card);
            border: 2px solid var(--accent-cyan);
            border-radius: 20px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            padding: 2rem;
            box-shadow: 0 20px 60px rgba(0, 217, 255, 0.3);
            animation: modal-slide-up 0.4s ease;
        }

        @keyframes modal-slide-up {
            from {
                transform: translateY(50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }

        .modal-title {
            font-family: 'Orbitron', sans-serif;
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .close-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 2.5rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .close-btn:hover {
            color: var(--accent-red);
            transform: rotate(90deg) scale(1.2);
        }

        /* Profile Modal */
        .profile-content {
            text-align: center;
        }

        .profile-avatar {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: 700;
            margin: 0 auto 1.5rem;
            border: 5px solid var(--accent-cyan);
            box-shadow: 0 15px 50px rgba(0, 217, 255, 0.4);
            animation: avatar-glow 3s ease-in-out infinite;
        }

        @keyframes avatar-glow {
            0%, 100% {
                box-shadow: 0 15px 50px rgba(0, 217, 255, 0.4);
            }
            50% {
                box-shadow: 0 15px 60px rgba(0, 217, 255, 0.7);
            }
        }

        .profile-name {
            font-family: 'Orbitron', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .profile-bio {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            line-height: 1.6;
        }

        .profile-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .profile-stat {
            background: var(--bg-secondary);
            padding: 1.5rem;
            border-radius: 16px;
            border: 2px solid var(--border);
            transition: all 0.3s;
        }

        .profile-stat:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 217, 255, 0.2);
        }

        .stat-value {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-cyan), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 0.5rem;
        }

        .profile-badges {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .badge {
            padding: 0.6rem 1.2rem;
            background: rgba(0, 217, 255, 0.15);
            border: 2px solid var(--accent-cyan);
            border-radius: 25px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
        }

        .badge:hover {
            background: rgba(0, 217, 255, 0.25);
            transform: scale(1.05);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
            font-weight: 500;
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
        }

        .form-input,
        .form-textarea,
        .form-select {
            width: 100%;
            padding: 0.9rem;
            background: var(--bg-secondary);
            border: 2px solid var(--border);
            border-radius: 10px;
            color: var(--text-primary);
            font-family: 'IBM Plex Mono', monospace;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        .form-input:focus,
        .form-textarea:focus,
        .form-select:focus {
            outline: none;
            border-color: var(--accent-cyan);
            box-shadow: 0 0 0 4px rgba(0, 217, 255, 0.15);
        }

        .form-textarea {
            min-height: 150px;
            resize: vertical;
        }

        .file-upload {
            border: 3px dashed var(--border);
            padding: 2.5rem;
            text-align: center;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            background: var(--bg-secondary);
        }

        .file-upload:hover {
            border-color: var(--accent-cyan);
            background: rgba(0, 217, 255, 0.08);
        }

        .file-upload input {
            display: none;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .checkbox-group input[type="checkbox"] {
            width: 22px;
            height: 22px;
            accent-color: var(--accent-cyan);
        }

        /* No Posts Message */
        .no-posts {
            text-align: center;
            padding: 4rem 2rem;
            color: var(--text-secondary);
        }

        .no-posts-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            opacity: 0.3;
        }

        @media (max-width: 768px) {
            header {
                padding: 1rem;
            }

            .logo {
                font-size: 1.2rem;
            }

            .container {
                padding: 0 0.5rem 2rem;
                margin-top: 160px;
            }

            .post-title {
                font-size: 1.1rem;
            }

            .create-post-btn {
                bottom: 1rem;
                right: 1rem;
                width: 60px;
                height: 60px;
            }

            .profile-stats {
                grid-template-columns: 1fr;
            }

            .filter-bar {
                gap: 0.3rem;
            }

            .filter-btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.75rem;
            }
        }
    </style>
</head>
<body>
    <div class="bg-pattern"></div>
    <div class="prism-overlay"></div>

    <header>
        <div class="header-top">
            <div class="logo" onclick="location.reload()">CRYSTALLINE</div>
            <div class="header-actions">
                <button class="btn btn-secondary" onclick="toggleSort()">Sort</button>
                <div class="user-avatar" onclick="openProfile()">TS</div>
            </div>
        </div>
        <div class="filter-bar" id="filterBar">
            <button class="filter-btn active" data-filter="all">All</button>
            <button class="filter-btn" data-filter="government">üèõÔ∏è Government</button>
            <button class="filter-btn" data-filter="health">‚öïÔ∏è Health</button>
            <button class="filter-btn" data-filter="technology">üíª Technology</button>
            <button class="filter-btn" data-filter="history">üìú History</button>
            <button class="filter-btn" data-filter="finance">üí∞ Finance</button>
            <button class="filter-btn" data-filter="media">üì° Media</button>
        </div>
    </header>

    <div class="container">
        <div class="feed" id="feed"></div>
    </div>

    <button class="create-post-btn" onclick="openModal('create')">+</button>

    <!-- Create Post Modal -->
    <div class="modal" id="createModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Share Truth</h2>
                <button class="close-btn" onclick="closeModal('create')">&times;</button>
            </div>

            <form id="createPostForm">
                <div class="form-group">
                    <label class="form-label">Category</label>
                    <select class="form-select" id="category" required>
                        <option value="">Select a category</option>
                        <option value="government">Government & Politics</option>
                        <option value="health">Health & Medicine</option>
                        <option value="technology">Technology</option>
                        <option value="history">Hidden History</option>
                        <option value="finance">Finance & Economy</option>
                        <option value="media">Media & Censorship</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Title</label>
                    <input type="text" class="form-input" id="title" placeholder="What's the truth you're sharing?" required>
                </div>

                <div class="form-group">
                    <label class="form-label">Content</label>
                    <textarea class="form-textarea" id="content" placeholder="Share your knowledge, evidence, or perspective..." required></textarea>
                </div>

                <div class="form-group">
                    <label class="form-label">Media (Optional)</label>
                    <div class="file-upload" onclick="document.getElementById('mediaUpload').click()">
                        <input type="file" id="mediaUpload" accept="image/*,video/*" onchange="handleFileUpload(event)">
                        <div id="uploadText">üìÅ Click to upload image or video</div>
                        <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 0.5rem;">
                            AI detection will be performed on uploads
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Source Links (Optional)</label>
                    <input type="url" class="form-input" id="sources" placeholder="https://...">
                </div>

                <div class="form-group">
                    <div class="checkbox-group">
                        <input type="checkbox" id="originalContent" required>
                        <label for="originalContent">I certify this is original content or properly attributed</label>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                    Publish to Network
                </button>
            </form>
        </div>
    </div>

    <!-- Profile Modal -->
    <div class="modal" id="profileModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Profile</h2>
                <button class="close-btn" onclick="closeModal('profile')">&times;</button>
            </div>

            <div class="profile-content">
                <div class="profile-avatar">TS</div>
                <h2 class="profile-name">TruthSeeker_42</h2>
                <p class="profile-bio">Seeking truth in a world of deception. Verified researcher and fact-checker committed to uncovering hidden information.</p>

                <div class="profile-stats">
                    <div class="profile-stat">
                        <div class="stat-value">127</div>
                        <div class="stat-label">Posts</div>
                    </div>
                    <div class="profile-stat">
                        <div class="stat-value">94.2%</div>
                        <div class="stat-label">Truth Score</div>
                    </div>
                    <div class="profile-stat">
                        <div class="stat-value">15.8k</div>
                        <div class="stat-label">Impact</div>
                    </div>
                </div>

                <div class="profile-badges">
                    <div class="badge">
                        <span>‚úì</span>
                        <span>Verified Researcher</span>
                    </div>
                    <div class="badge">
                        <span>‚óà</span>
                        <span>Crystal Tier 3</span>
                    </div>
                    <div class="badge">
                        <span>üîç</span>
                        <span>Fact Checker</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const samplePosts = [
            {
                id: 1,
                author: "TruthSeeker_42",
                avatar: "TS",
                time: "2h ago",
                posts: 127,
                truthScore: 94.2,
                category: "technology",
                title: "The Real Story Behind Social Media Algorithms",
                content: "Major social platforms aren't just showing you content randomly. Documents leaked from internal meetings reveal deliberate engagement manipulation to maximize ad revenue. Here's what they don't want you to know...",
                votes: 847,
                authenticity: 94,
                hasVideo: false
            },
            {
                id: 2,
                author: "DataDiver",
                avatar: "DD",
                time: "5h ago",
                posts: 89,
                truthScore: 96.5,
                category: "government",
                title: "Declassified Documents Reveal Surveillance Expansion",
                content: "Recently declassified NSA documents show surveillance programs expanded far beyond what was publicly disclosed. This isn't conspiracy theory - these are official government records now available through FOIA requests.",
                votes: 1203,
                authenticity: 97,
                hasVideo: true
            },
            {
                id: 3,
                author: "HealthWatch",
                avatar: "HW",
                time: "8h ago",
                posts: 64,
                truthScore: 88.3,
                category: "health",
                title: "Pharmaceutical Pricing: The Hidden Markup",
                content: "Analysis of Medicare data reveals certain medications marked up over 1000% from production cost. Here's the breakdown with sources from government databases...",
                votes: 621,
                authenticity: 89,
                hasVideo: false
            },
            {
                id: 4,
                author: "HistoryUncovered",
                avatar: "HU",
                time: "12h ago",
                posts: 156,
                truthScore: 91.7,
                category: "history",
                title: "Operation Northwoods: Declassified False Flag Plans",
                content: "Declassified documents from 1962 show the Joint Chiefs of Staff proposed false flag attacks on US citizens to justify war with Cuba. This is not conspiracy - it's documented history available in the National Archives.",
                votes: 1456,
                authenticity: 98,
                hasVideo: false
            },
            {
                id: 5,
                author: "FinanceWatch",
                avatar: "FW",
                time: "1d ago",
                posts: 43,
                truthScore: 72.1,
                category: "finance",
                title: "Central Bank Digital Currencies: What They're Not Telling You",
                content: "Multiple central banks are developing digital currencies that could enable unprecedented financial surveillance. While sold as 'innovation,' leaked documents suggest programmable money with expiration dates and restricted spending...",
                votes: 234,
                authenticity: 68,
                hasVideo: true
            },
            {
                id: 6,
                author: "MediaAnalyst",
                avatar: "MA",
                time: "1d ago",
                posts: 201,
                truthScore: 45.2,
                category: "media",
                title: "Aliens Built the Pyramids with Sound Waves",
                content: "Ancient aliens used advanced sound technology to levitate massive stone blocks. This explains everything about the pyramids that mainstream archaeology can't answer!!!",
                votes: -87,
                authenticity: 12,
                hasVideo: false
            }
        ];

        let uploadedFile = null;
        let currentFilter = 'all';
        let sortBy = 'recent'; // 'recent', 'verified', 'trending'

        function getAuthenticityLevel(score) {
            if (score >= 85) return 'high';
            if (score >= 60) return 'medium';
            return 'low';
        }

        function renderPosts() {
            const feed = document.getElementById('feed');
            
            // Filter posts
            let filteredPosts = samplePosts;
            if (currentFilter !== 'all') {
                filteredPosts = samplePosts.filter(p => p.category === currentFilter);
            }

            // Sort posts
            if (sortBy === 'verified') {
                filteredPosts = [...filteredPosts].sort((a, b) => b.authenticity - a.authenticity);
            } else if (sortBy === 'trending') {
                filteredPosts = [...filteredPosts].sort((a, b) => b.votes - a.votes);
            }

            if (filteredPosts.length === 0) {
                feed.innerHTML = `
                    <div class="no-posts">
                        <div class="no-posts-icon">‚óà</div>
                        <p>No posts found for this category</p>
                    </div>
                `;
                return;
            }

            feed.innerHTML = filteredPosts.map(post => {
                const authLevel = getAuthenticityLevel(post.authenticity);
                const categoryClass = `category-${post.category}`;
                const categoryIcons = {
                    government: 'üèõÔ∏è',
                    health: '‚öïÔ∏è',
                    technology: 'üíª',
                    history: 'üìú',
                    finance: 'üí∞',
                    media: 'üì°'
                };
                
                return `
                <div class="post" data-authenticity="${authLevel}" data-category="${post.category}" data-score="${post.authenticity}">
                    <div class="crystal-border"></div>
                    <div class="crystal-facets"></div>
                    ${authLevel === 'high' ? `
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                        <div class="sparkle"></div>
                    ` : ''}
                    
                    <div class="post-header">
                        <div class="post-author" onclick="openProfile()">
                            <div class="avatar">${post.avatar}</div>
                            <div class="author-info">
                                <div class="author-name">${post.author}</div>
                                <div class="author-stats">
                                    <span class="stat">üìù ${post.posts}</span>
                                    <span class="stat">‚óà ${post.truthScore}%</span>
                                </div>
                            </div>
                        </div>
                        <div class="post-time">${post.time}</div>
                    </div>
                    
                    <div class="post-content">
                        <span class="category-crystal ${categoryClass}">
                            ${categoryIcons[post.category] || 'üîç'}
                            ${post.category}
                        </span>
                        <h3 class="post-title">${post.title}</h3>
                        <p class="post-text">${post.content}</p>
                        
                        ${post.hasVideo ? `
                            <div class="video-container">
                                <div class="video-placeholder">
                                    <div class="play-icon">‚ñ∂</div>
                                    <div>Video Content (Demo)</div>
                                </div>
                            </div>
                        ` : ''}
                    </div>
                    
                    <div class="authenticity-display">
                        <div class="authenticity-meter">
                            <div class="authenticity-fill ${authLevel}" style="width: ${post.authenticity}%"></div>
                        </div>
                        <div class="authenticity-label ${authLevel}">
                            ${authLevel === 'high' ? '‚ú®' : authLevel === 'medium' ? '‚ö†Ô∏è' : 'üíî'}
                            <span class="authenticity-score">${post.authenticity}%</span>
                            <span>${authLevel === 'high' ? 'Verified' : authLevel === 'medium' ? 'Review' : 'Debunked'}</span>
                        </div>
                    </div>
                    
                    <div class="post-actions">
                        <div class="voting">
                            <div class="vote-group" id="vote-group-${post.id}">
                                <button class="vote-btn upvote" onclick="vote(${post.id}, 1)">‚ñ≤</button>
                                <span class="vote-count" id="votes-${post.id}">${post.votes}</span>
                                <button class="vote-btn downvote" onclick="vote(${post.id}, -1)">‚ñº</button>
                            </div>
                        </div>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="action-btn" title="Share">üîó</button>
                            <button class="action-btn" title="Report">‚ö†Ô∏è</button>
                        </div>
                    </div>
                </div>
                `;
            }).join('');
        }

        function vote(postId, direction) {
            const voteElement = document.getElementById(`votes-${postId}`);
            const voteGroup = document.getElementById(`vote-group-${postId}`);
            const currentVotes = parseInt(voteElement.textContent);
            voteElement.textContent = currentVotes + direction;
            
            // Visual feedback
            voteElement.style.transform = 'scale(1.4)';
            voteElement.style.color = direction > 0 ? 'var(--accent-green)' : 'var(--accent-red)';
            
            // Create particles
            for (let i = 0; i < 8; i++) {
                createVoteParticle(voteGroup, direction);
            }
            
            setTimeout(() => {
                voteElement.style.transform = 'scale(1)';
                voteElement.style.color = '';
            }, 400);
        }

        function createVoteParticle(container, direction) {
            const particle = document.createElement('div');
            particle.className = 'vote-particle';
            particle.style.background = direction > 0 ? 'var(--accent-green)' : 'var(--accent-red)';
            
            const angle = Math.random() * Math.PI * 2;
            const distance = 30 + Math.random() * 20;
            const tx = Math.cos(angle) * distance;
            const ty = Math.sin(angle) * distance;
            
            particle.style.setProperty('--tx', tx + 'px');
            particle.style.setProperty('--ty', ty + 'px');
            particle.style.left = '50%';
            particle.style.top = '50%';
            
            container.appendChild(particle);
            
            setTimeout(() => particle.remove(), 600);
        }

        function toggleSort() {
            if (sortBy === 'recent') {
                sortBy = 'verified';
                alert('Sorting by Verification Score');
            } else if (sortBy === 'verified') {
                sortBy = 'trending';
                alert('Sorting by Trending (Votes)');
            } else {
                sortBy = 'recent';
                alert('Sorting by Most Recent');
            }
            renderPosts();
        }

        function openModal(type) {
            if (type === 'create') {
                document.getElementById('createModal').classList.add('active');
            } else if (type === 'profile') {
                document.getElementById('profileModal').classList.add('active');
            }
        }

        function closeModal(type) {
            if (type === 'create') {
                document.getElementById('createModal').classList.remove('active');
                document.getElementById('createPostForm').reset();
                uploadedFile = null;
                document.getElementById('uploadText').textContent = 'üìÅ Click to upload image or video';
            } else if (type === 'profile') {
                document.getElementById('profileModal').classList.remove('active');
            }
        }

        function openProfile() {
            openModal('profile');
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (file) {
                uploadedFile = file;
                const fileName = file.name.length > 30 ? file.name.substring(0, 27) + '...' : file.name;
                document.getElementById('uploadText').innerHTML = `
                    ‚úì ${fileName}<br>
                    <small style="color: var(--accent-green);">AI detection will run on publish</small>
                `;
            }
        }

        document.getElementById('createPostForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const newPost = {
                id: Date.now(),
                author: "TruthSeeker_42",
                avatar: "TS",
                time: "Just now",
                posts: 128,
                truthScore: 94.2,
                category: document.getElementById('category').value,
                title: document.getElementById('title').value,
                content: document.getElementById('content').value,
                votes: 0,
                authenticity: 0,
                hasVideo: uploadedFile && uploadedFile.type.startsWith('video/')
            };
            
            samplePosts.unshift(newPost);
            renderPosts();
            closeModal('create');
            
            alert('‚ú® Your post has been submitted!\n\nüîç AI detection running...\n‚óà Community verification pending...\n\nYour crystal will brighten as verification completes!');
        });

        // Filter buttons
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.dataset.filter;
                renderPosts();
            });
        });

        // Close modals on outside click
        document.getElementById('createModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal('create');
        });

        document.getElementById('profileModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal('profile');
        });

        // Smooth scroll to top on logo click
        document.querySelector('.logo').addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });

        // Initialize
        renderPosts();
    </script>
</body>
</html>